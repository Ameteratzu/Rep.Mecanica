{% extends "base.html" %}

{% block content %}
  <h2>{% if cliente %}Editar{% else %}Nuevo{% endif %} Cliente</h2>

  <form method="post" action="{{ url_for('cliente.nuevo_cliente') }}">
    <div class="row">
      <div class="col-md-6">
        <label for="nombres" class="form-label">Nombres</label>
        <input type="text" name="nombres" class="form-control" value="{{ cliente.nombres if cliente else '' }}" required>
      </div>
      <div class="col-md-6">
        <label for="apellidos" class="form-label">Apellidos</label>
        <input type="text" name="apellidos" class="form-control" value="{{ cliente.apellidos if cliente else '' }}" required>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-md-6">
        <label for="documento" class="form-label">NÂº Documento</label>
        <input type="text" name="documento" class="form-control" value="{{ cliente.documento if cliente else '' }}" required>
      </div>
      <div class="col-md-6">
        <label for="celular" class="form-label">Celular</label>
        <input type="text" name="celular" class="form-control" value="{{ cliente.celular if cliente else '' }}" required>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-6">
        <label for="ubigeo" class="form-label">Ubigeo</label>
        <select name="ubigeo" class="form-select" required>
          <option value="" disabled {% if not cliente %}selected{% endif %}>Seleccione el Ubigeo</option>
          {% for ubigeo in ubigeos %}
            <option value="{{ ubigeo.id }}" {% if cliente and cliente.ubigeo.id == ubigeo.id %}selected{% endif %}>
              {{ ubigeo.departamento }} / {{ ubigeo.provincia }} / {{ ubigeo.distrito }}
            </option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label for="estado" class="form-label">Estado</label>
        <select name="activo" class="form-select" required>
          <option value="1" {% if cliente and cliente.activo %}selected{% endif %}>Activo</option>
          <option value="0" {% if cliente and not cliente.activo %}selected{% endif %}>Inactivo</option>
        </select>
      </div>
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-primary">Guardar Cliente</button>
      <a href="{{ url_for('cliente.list_cliente') }}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
{% endblock %}
